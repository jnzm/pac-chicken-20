scene.onOverlapTile(SpriteKind.Player, assets.tile`yellowcornlevel1winplace`, function (sprite, location) {
    game.over(true, effects.confetti)
})
function level2Pacman () {
    scene.setBackgroundImage(assets.image`Pacmanlevel1`)
    tiles.setCurrentTilemap(tilemap`level4`)
    maincharacterPacman()
    Pacman()
    food()
    PacMan.setPosition(25, 40)
    Ghost = sprites.create(assets.image`ghost1pacman`, SpriteKind.Enemy)
    Ghost.setPosition(250, 115)
    Ghost.follow(PacMan, 15)
    ghost()
    Ghost.setBounceOnWall(false)
    Ghost2 = sprites.create(assets.image`ghost2pacman`, SpriteKind.Enemy)
    Ghost2.setPosition(380, 170)
    Ghost2.follow(PacMan, 20)
    ghost2()
    Ghost2.setBounceOnWall(false)
    Ghost3 = sprites.create(assets.image`ghost3pacman`, SpriteKind.Player)
    Ghost3.setPosition(120, 75)
    Ghost3.follow(PacMan, 10)
    ghost3()
    Ghost3.setBounceOnWall(false)
}
function Pacman () {
    animation.runImageAnimation(
    PacMan,
    assets.animation`pacmanmaincharacteranimation`,
    150,
    true
    )
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile1`, function (sprite, location) {
    info.startCountdown(30)
})
function chicken () {
    animation.runImageAnimation(
    Chicken,
    assets.animation`chickenanimationlevel1`,
    200,
    true
    )
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    info.changeScoreBy(200)
    game.over(true)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    info.setScore(0)
    level1Chicken()
})
function ghost2 () {
    animation.runImageAnimation(
    Ghost2,
    assets.animation`ghost2pacman2`,
    200,
    true
    )
}
function food () {
    for (let value of tiles.getTilesByType(assets.tile`CoinFoodPac-Man`)) {
        coin = sprites.create(assets.image`foodpacman`, SpriteKind.Food)
        animation.runImageAnimation(
        coin,
        assets.animation`foodpacmananimation`,
        100,
        true
        )
        tiles.placeOnTile(coin, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    info.setScore(0)
    level1Pacman()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`dangeroustilelevel1`, function (sprite, location) {
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    level3Pacman()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile12`, function (sprite, location) {
    level2Chicken()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile3`, function (sprite, location) {
    game.over(true)
})
function food4 () {
    for (let value of tiles.getTilesByType(assets.tile`myTile7`)) {
        worm = sprites.create(assets.image`worm`, SpriteKind.Player)
        animation.runImageAnimation(
        worm,
        assets.animation`wormanimation`,
        100,
        true
        )
        tiles.placeOnTile(worm, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
info.onCountdownEnd(function () {
    game.reset()
})
function level3Pacman () {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    tiles.setCurrentTilemap(tilemap`level3pacmantilemap`)
    maincharacterPacman()
    Pacman()
    food()
    PacMan.setPosition(25, 25)
}
function level3Chicken () {
    scene.setBackgroundImage(assets.image`level3backgroundchicken`)
    tiles.setCurrentTilemap(tilemap`level8`)
    maincharacterChicken()
    chicken()
    Chicken.setPosition(0, 0)
    food3()
}
function ghost () {
    animation.runImageAnimation(
    Ghost,
    assets.animation`ghostanimationpacman2`,
    150,
    true
    )
}
function maincharacterChicken () {
    Chicken = sprites.create(assets.image`chickenmaincharacter`, SpriteKind.Player)
    scene.cameraFollowSprite(Chicken)
    controller.moveSprite(Chicken, 100, 100)
}
function maincharacterPacman () {
    PacMan = sprites.create(assets.image`pacmanmaincharacter`, SpriteKind.Player)
    scene.cameraFollowSprite(PacMan)
    controller.moveSprite(PacMan, 100, 100)
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    level2Pacman()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile5`, function (sprite, location) {
    info.stopCountdown()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`goincoldlevel1`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`goldcoingrasslevel1`)
    for (let value of tiles.getTilesByType(assets.tile`dangeroustilelevel1`)) {
        tiles.setTileAt(value, assets.tile`goldcoingrasslevel1`)
        tiles.setWallAt(value, true)
    }
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
function level1Chicken () {
    scene.setBackgroundImage(assets.image`level2backgroundchicken`)
    tiles.setCurrentTilemap(tilemap`level2`)
    maincharacterChicken()
    chicken()
    Chicken.setPosition(150, 150)
    food3()
    info.startCountdown(30)
}
function level1Pacman () {
    scene.setBackgroundImage(assets.image`background5`)
    tiles.setCurrentTilemap(tilemap`level5`)
    maincharacterPacman()
    Pacman()
    food()
    PacMan.setPosition(25, 25)
    info.startCountdown(45)
}
function ghost3 () {
    animation.runImageAnimation(
    Ghost3,
    assets.animation`ghost3enemypacman`,
    200,
    true
    )
}
function food3 () {
    for (let value of tiles.getTilesByType(assets.tile`myTile11`)) {
        food2 = sprites.create(assets.image`mineral`, SpriteKind.Food)
        animation.runImageAnimation(
        food2,
        assets.animation`potato`,
        100,
        true
        )
        tiles.placeOnTile(food2, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
function owl () {
    animation.runImageAnimation(
    Owl,
    assets.animation`owlenemyanimationlevel1`,
    200,
    true
    )
}
function level2Chicken () {
    scene.setBackgroundImage(assets.image`level1background`)
    tiles.setCurrentTilemap(tilemap`level1tilemap`)
    maincharacterChicken()
    Chicken.setPosition(5, 37)
    Owl = sprites.create(assets.image`owlenemylevel1`, SpriteKind.Enemy)
    Owl.setBounceOnWall(false)
    Owl.setPosition(20, 97)
    Owl.follow(Chicken, 45)
    chicken()
    owl()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    game.over(false)
})
let Owl: Sprite = null
let food2: Sprite = null
let worm: Sprite = null
let coin: Sprite = null
let Chicken: Sprite = null
let Ghost3: Sprite = null
let Ghost2: Sprite = null
let Ghost: Sprite = null
let PacMan: Sprite = null
game.setDialogFrame(assets.image`dialogueframe1`)
game.showLongText("Welcome to Pac-man or Pac-chicken!", DialogLayout.Bottom)
game.showLongText("Press A to play Pac-Man", DialogLayout.Bottom)
game.showLongText("Or Press B to play Pac-Chicken", DialogLayout.Bottom)
